---
- name: Converge
  hosts: all
  tasks:
    - name: "Include activemq"
      ansible.builtin.include_role:
        name: "activemq"
      vars:
        activemq_version: "{{ dependencies_version.activemq }}"
    - name: "Include elasticsearch"
      ansible.builtin.include_role:
        name: "elasticsearch"
    - name: "Include sfs"
      ansible.builtin.include_role:
        name: "sfs"
    - name: "Include transformers"
      ansible.builtin.include_role:
        name: "transformers"
    - name: "Include t-router"
      ansible.builtin.include_role:
        name: "trouter"
    - name: "Include search_enterprise"
      ansible.builtin.include_role:
        name: "search_enterprise"
      vars:
        elasticsearch_host: "{{ ansible_hostname }}"
