---
- name: talk to all hosts just so we can learn about them
  hosts: all
  tasks:
    - name: Classify hosts depending on their OS distribution
      group_by:
        key: "{{ ansible_distribution }}{{ ansible_distribution_major_version }}"
      failed_when: false
      changed_when: false

- name: Converge
  hosts: all
  tasks:
    - name: "Include java"
      include_role:
        name: "java"
