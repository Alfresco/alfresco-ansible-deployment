---
- name: Converge
  hosts: all
  tasks:
    - name: "Install alfresco-digital-workspace"
      vars:
        webapp_context: alfresco-digital-workspace
        webapp_port: 8881
        webapp_src_archive: "{{ downloads.adw_zip_url }}"
        webapp_src_checksum: "{{ lookup('url', downloads.adw_zip_sha1_checksum_url, username=nexus_user, password=nexus_password) }}"
        webapp_version: "{{ adw.version }}"
      ansible.builtin.include_role:
        name: "webapp"

    - name: "Install alfresco-control-center"
      vars:
        webapp_context: alfresco-control-center
        webapp_port: 8882
        webapp_src_archive: "{{ downloads.acc_zip_url }}"
        webapp_src_checksum: "{{ downloads.acc_zip_sha1_checksum_url }}"
        webapp_version: "{{ acc.version }}"
      ansible.builtin.include_role:
        name: "webapp"
