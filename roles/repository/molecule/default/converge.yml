---
- name: Converge
  hosts: all
  tasks:
    - name: "Include postgres"
      include_role:
        name: "postgres"
    - name: "Include activemq"
      include_role:
        name: "activemq"
    - name: "Include repository"
      include_role:
        name: "repository"
      vars:
        custom_keystores: true
        acs_environment:
          JAVA_OPTS: " -Xms512m -Xmx3g -XX:+DisableExplicitGC
            -XX:+UseConcMarkSweepGC
            -Djava.awt.headless=true
            -XX:ReservedCodeCacheSize=128m
            $JAVA_OPTS"
          JAVA_TOOL_OPTIONS: " -Dencryption.keystore.type=pkcs12
            -Dencryption.cipherAlgorithm=AES/CBC/PKCS5Padding
            -Dencryption.keyAlgorithm=AES
            -Dencryption.keystore.location=/var/opt/alfresco/content-services/keystore/keystest
            -Dmetadata-keystore.password=mp6yc0UD9e
            -Dmetadata-keystore.aliases=metadata
            -Dmetadata-keystore.metadata.password=mp6yc0UD9e
            -Dmetadata-keystore.metadata.algorithm=AES"